<!--pages/user/edit-profile/edit-profile.wxml-->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <view class="page-title">编辑个人信息</view>
    <view class="page-desc">完善您的个人资料</view>
  </view>

  <!-- 表单内容 -->
  <view class="form-container">
    <!-- 头像 -->
    <view class="form-section">
      <view class="section-title">头像</view>
      <view class="avatar-section">
        <image class="avatar-preview" src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="avatar-tip">点击个人中心头像可修改</view>
      </view>
    </view>

    <!-- 基本信息 -->
    <view class="form-section">
      <view class="section-title">基本信息</view>
      <view class="form-list">
        <view class="form-item">
          <view class="form-label">姓名 <text class="required">*</text></view>
          <input 
            class="form-input" 
            type="text" 
            placeholder="请输入您的姓名" 
            value="{{formData.name}}"
            data-field="name"
            bindinput="onInputChange"
            maxlength="20"
          />
        </view>
        
        <view class="form-item">
          <view class="form-label">手机号 <text class="required">*</text></view>
          <input 
            class="form-input" 
            type="number" 
            placeholder="请输入手机号" 
            value="{{formData.phone}}"
            data-field="phone"
            bindinput="onInputChange"
            maxlength="11"
          />
        </view>
        
        <view class="form-item">
          <view class="form-label">邮箱</view>
          <input 
            class="form-input" 
            type="text" 
            placeholder="请输入邮箱地址" 
            value="{{formData.email}}"
            data-field="email"
            bindinput="onInputChange"
          />
        </view>
        
        <view class="form-item">
          <view class="form-label">性别</view>
          <picker 
            class="form-picker" 
            mode="selector" 
            range="{{genderOptions}}" 
            range-key="label" 
            value="{{formData.gender}}"
            bindchange="onGenderChange"
          >
            <view class="picker-content">
              <text class="picker-text">{{genderOptions[formData.gender].label}}</text>
              <text class="picker-arrow">›</text>
            </view>
          </picker>
        </view>
        
        <view class="form-item">
          <view class="form-label">生日</view>
          <picker 
            class="form-picker" 
            mode="date" 
            value="{{formData.birthday}}"
            bindchange="onBirthdayChange"
          >
            <view class="picker-content">
              <text class="picker-text">{{formData.birthday || '请选择生日'}}</text>
              <text class="picker-arrow">›</text>
            </view>
          </picker>
        </view>
      </view>
    </view>

    <!-- 联系信息 -->
    <view class="form-section">
      <view class="section-title">联系信息</view>
      <view class="form-list">
        <view class="form-item">
          <view class="form-label">地址</view>
          <textarea 
            class="form-textarea" 
            placeholder="请输入详细地址" 
            value="{{formData.address}}"
            data-field="address"
            bindinput="onInputChange"
            maxlength="200"
            auto-height
          ></textarea>
        </view>
      </view>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-section">
    <button 
      class="save-btn {{submitting ? 'disabled' : ''}}" 
      bindtap="onSave"
      disabled="{{submitting}}"
    >
      {{submitting ? '保存中...' : '保存'}}
    </button>
  </view>

  <!-- 提示信息 -->
  <view class="tips-section">
    <view class="tips-title">温馨提示</view>
    <view class="tips-list">
      <view class="tips-item">• 姓名和手机号为必填项</view>
      <view class="tips-item">• 完善个人信息有助于获得更好的服务</view>
      <view class="tips-item">• 您的个人信息将严格保密</view>
    </view>
  </view>
</view>